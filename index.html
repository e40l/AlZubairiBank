<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <title>بنك الزبيري</title>
</head>
<body>
  <h1>مرحبا بك في بنك الزبيري</h1>
  <form id="link-form">
    <label>اختر المحفظة:
      <select id="provider">
        <option value="JIB">جيب</option>
        <option value="ONECASH">ون كاش</option>
        <option value="JAWALI">جوالي</option>
        <option value="FLUSAK">فلوسك</option>
        <option value="CASH">كاش</option>
        <option value="AMFLUS">ام فلوس</option>
        <option value="BYS">بيس</option>
        <option value="SHAMEL">شامل موني</option>
        <option value="YMWALLET">يمن والت</option>
        <option value="MAHFZTI">محفظتي</option>
      </select>
    </label>
    <label>رقم الهاتف:
      <input type="text" id="phone" required />
    </label>
    <button type="submit">اربط</button>
  </form>

  <script>
    document.getElementById('link-form').addEventListener('submit', async (e)=>{
      e.preventDefault();
      const provider = document.getElementById('provider').value;
      const phone = document.getElementById('phone').value;
      const res = await fetch('/api/wallets/link', {
        method:'POST',
        headers:{'Content-Type':'application/json'},
        body: JSON.stringify({provider, phone})
      });
      const data = await res.json();
      alert(data.message);
    });
  </script>
</body>
</html>
